;;;;;;;;;;;;;
; game data ;
;;;;;;;;;;;;;

piece_shape_x:
  ; I
  .db 0, 1, 2, 3
  .db 0, 0, 0, 0
  .db 0, 1, 2, 3
  .db 0, 0, 0, 0
  ; T
  .db 0, 1, 2, 1
  .db 0, 0, 0, 1
  .db 0, 1, 2, 1
  .db 1, 1, 1, 0
  ; O
  .db 0, 1, 0, 1
  .db 0, 1, 0, 1
  .db 0, 1, 0, 1
  .db 0, 1, 0, 1
  ; J
  .db 0, 1, 2, 0
  .db 0, 0, 0, 1
  .db 0, 1, 2, 2
  .db 1, 1, 1, 0
  ; L
  .db 0, 1, 2, 2
  .db 0, 0, 0, 1
  .db 0, 1, 2, 0
  .db 1, 1, 1, 0
  ; S
  .db 0, 1, 1, 2
  .db 0, 0, 1, 1
  .db 0, 1, 1, 2
  .db 0, 0, 1, 1
  ; Z
  .db 0, 1, 1, 2
  .db 0, 1, 0, 0
  .db 0, 1, 1, 2
  .db 0, 1, 0, 0

piece_shape_y:
  ; I
  .db 0, 0, 0, 0
  .db 0, 1, 2, 3
  .db 0, 0, 0, 0
  .db 0, 1, 2, 3
  ; T
  .db 0, 0, 0, 1
  .db 0, 1, 2, 1
  .db 1, 1, 1, 0
  .db 0, 1, 2, 1
  ; O
  .db 0, 0, 1, 1
  .db 0, 0, 1, 1
  .db 0, 0, 1, 1
  .db 0, 0, 1, 1
  ; J
  .db 0, 0, 0, 1
  .db 0, 1, 2, 2
  .db 1, 1, 1, 0
  .db 0, 1, 2, 0
  ; L
  .db 0, 0, 0, 1
  .db 0, 1, 2, 0
  .db 1, 1, 1, 0
  .db 0, 1, 2, 2
  ; S
  .db 1, 1, 0, 0
  .db 0, 1, 1, 2
  .db 1, 1, 0, 0
  .db 0, 1, 1, 2
  ; Z
  .db 0, 0, 1, 1
  .db 1, 1, 1, 2
  .db 0, 0, 1, 1
  .db 1, 1, 1, 2

piece_width:
  .db 4, 1, 4, 1        ; I
  .db 3, 2, 3, 2        ; T
  .db 2, 2, 2, 2        ; O
  .db 3, 2, 3, 2        ; J
  .db 3, 2, 3, 2        ; L
  .db 3, 2, 3, 2        ; S
  .db 3, 2, 3, 2        ; Z

piece_height:
  .db 1, 4, 1, 4        ; I
  .db 2, 3, 2, 3        ; T
  .db 2, 2, 2, 2        ; O
  .db 2, 3, 2, 3        ; J
  .db 2, 3, 2, 3        ; L
  .db 2, 3, 2, 3        ; S
  .db 2, 3, 2, 3        ; Z

piece_offset_x:
  ; I
  .db 1, 0, 3, 0, 3
  .db -1, 0, 0, 0, 0
  .db 1, 3, 0, 3, 0
  .db 0, 0, 0, 0, 0
  ; T
  .db 1, 1, 1, 1, 1
  .db 0, 1, 1, 0, 1
  .db 1, 1, 1, 1, 1
  .db 1, 0, 0, 1, 0
  ; O
  .db 0, 0, 0, 0, 0
  .db 0, 0, 0, 0, 0
  .db 0, 0, 0, 0, 0
  .db 0, 0, 0, 0, 0
  ; J
  .db 1, 1, 1, 1, 1
  .db 0, 1, 1, 0, 1
  .db 1, 1, 1, 1, 1
  .db 1, 0, 0, 1, 0
  ; L
  .db 1, 1, 1, 1, 1
  .db 0, 1, 1, 0, 1
  .db 1, 1, 1, 1, 1
  .db 1, 0, 0, 1, 0
  ; S
  .db 1, 1, 1, 1, 1
  .db 0, 1, 1, 0, 1
  .db 1, 1, 1, 1, 1
  .db 1, 0, 0, 1, 0
  ; Z
  .db 1, 1, 1, 1, 1
  .db 0, 1, 1, 0, 1
  .db 1, 1, 1, 1, 1
  .db 1, 0, 0, 1, 0

piece_offset_y:
  ; I
  .db 0, 0, 0, 0, 0
  .db 2, 2, 2, 3, 0
  .db 1, 1, 1, 0, 0
  .db 2, 2, 2, 0, 3
  ; T
  .db 0, 0, 0, 0, 0
  .db 1, 1, 0, 3, 3
  .db 1, 1, 1, 1, 1
  .db 1, 1, 0, 3, 3
  ; O
  .db 0, 0, 0, 0, 0
  .db 0, 0, 0, 0, 0
  .db 0, 0, 0, 0, 0
  .db 0, 0, 0, 0, 0
  ; J
  .db 0, 0, 0, 0, 0
  .db 1, 1, 0, 3, 3
  .db 1, 1, 1, 1, 1
  .db 1, 1, 0, 3, 3
  ; L
  .db 0, 0, 0, 0, 0
  .db 1, 1, 0, 3, 3
  .db 1, 1, 1, 1, 1
  .db 1, 1, 0, 3, 3
  ; S
  .db 0, 0, 0, 0, 0
  .db 1, 1, 0, 3, 3
  .db 1, 1, 1, 1, 1
  .db 1, 1, 0, 3, 3
  ; Z
  .db 0, 0, 0, 0, 0
  .db 1, 1, 0, 3, 3
  .db 1, 1, 1, 1, 1
  .db 1, 1, 0, 3, 3

score_values_normal_lo:
  ;   normal     m T-spin   T-spin
  .db LOW(0),    LOW(100),  LOW(400),  0    ; Zero
  .db LOW(100),  LOW(200),  LOW(800),  0    ; Single
  .db LOW(300),  0,         LOW(1200), 0    ; Double
  .db LOW(500),  0,         LOW(1600), 0    ; Triple
  .db LOW(800),  0,         0,         0    ; Tetris

score_values_normal_hi:
  ;   normal      m T-spin    T-spin
  .db HIGH(0),    HIGH(100),  HIGH(400),  0    ; Zero
  .db HIGH(100),  HIGH(200),  HIGH(800),  0    ; Single
  .db HIGH(300),  0,          HIGH(1200), 0    ; Double
  .db HIGH(500),  0,          HIGH(1600), 0    ; Triple
  .db HIGH(800),  0,          0,          0    ; Tetris

score_values_b2b_lo:
  ;   normal     m T-spin   T-spin
  .db 0,         LOW(300),  LOW(1200), 0    ; Single
  .db 0,         0,         LOW(1800), 0    ; Double
  .db 0,         0,         LOW(2400), 0    ; Triple
  .db LOW(1200), 0,         0,         0    ; Tetris

score_values_b2b_hi:
  ;   normal     m T-spin   T-spin
  .db 0,          HIGH(300),  HIGH(1200), 0    ; Single
  .db 0,          0,          HIGH(1800), 0    ; Double
  .db 0,          0,          HIGH(2400), 0    ; Triple
  .db HIGH(1200), 0,          0,          0    ; Tetris

;;;;;;;;
; math ;
;;;;;;;;

mul_5:
  .db 0,   5,   10,  15,  20,  25,  30,  35,  40,  45
  .db 50,  55,  60,  65,  70,  75,  80,  85,  90,  95
  .db 100, 105, 110, 115, 120, 125, 130, 135, 140, 145
  .db 150, 155, 160, 165, 170, 175, 180, 185, 190, 195

mod_3:
  .db 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0    ; $00
  .db 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1    ; $10
  .db 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2    ; $20
  .db 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0    ; $30
  .db 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1    ; $40
  .db 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2    ; $50
  .db 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0    ; $60
  .db 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1    ; $70
  .db 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2    ; $80
  .db 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0    ; $90
  .db 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1    ; $A0
  .db 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2    ; $B0
  .db 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0    ; $C0
  .db 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1    ; $D0
  .db 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2    ; $E0
  .db 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0    ; $F0

mod_5:
  .db 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0    ; $00
  .db 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1    ; $10
  .db 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2    ; $20
  .db 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3    ; $30
  .db 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4    ; $40
  .db 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0    ; $50
  .db 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1    ; $60
  .db 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2    ; $70
  .db 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3    ; $80
  .db 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4    ; $90
  .db 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0    ; $A0
  .db 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1    ; $B0
  .db 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2    ; $C0
  .db 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3    ; $D0
  .db 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4    ; $E0
  .db 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0    ; $F0

mod_6:
  .db 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3    ; $00
  .db 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1    ; $10
  .db 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5    ; $20
  .db 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3    ; $30
  .db 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1    ; $40
  .db 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5    ; $50
  .db 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3    ; $60
  .db 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1    ; $70
  .db 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5    ; $80
  .db 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3    ; $90
  .db 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1    ; $A0
  .db 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5    ; $B0
  .db 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3    ; $C0
  .db 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1    ; $D0
  .db 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5    ; $E0
  .db 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3    ; $F0

mod_7:
  .db 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1    ; $00
  .db 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3    ; $10
  .db 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5    ; $20
  .db 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0    ; $30
  .db 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2    ; $40
  .db 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4    ; $50
  .db 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6    ; $60
  .db 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1    ; $70
  .db 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3    ; $80
  .db 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5    ; $90
  .db 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0    ; $A0
  .db 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2    ; $B0
  .db 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4    ; $C0
  .db 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6    ; $D0
  .db 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1    ; $E0
  .db 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3    ; $F0

bcd_table_low:
  .db $0A, $14, $28, $50
  .db $64, $C8, $90, $20
  .db $E8, $D0, $A0, $40
  .db $10, $20, $40, $80
  .db $A0, $40, $80, $00
  .db $40, $80, $00, $00
  .db $80

bcd_table_mid:
  .db $00, $00, $00, $00
  .db $00, $00, $01, $03
  .db $03, $07, $0F, $1F
  .db $27, $4E, $9C, $38
  .db $86, $0D, $1A, $35
  .db $42, $84, $09, $12
  .db $96

bcd_table_high:
  .db $00, $00, $00, $00
  .db $00, $00, $00, $00
  .db $00, $00, $00, $00
  .db $00, $00, $00, $01
  .db $01, $03, $06, $0C
  .db $0F, $1E, $3D, $7A
  .db $98

;;;;;;;;;;;;;
; misc data ;
;;;;;;;;;;;;;

line_ppu_low:
  .db $01, $E1, $C1, $A1, $81, $61, $41, $21
  .db $01, $E1, $C1, $A1, $81, $61, $41, $21
  .db $01, $E1, $C1, $A1, $81

line_ppu_high:
  .db $23, $22, $22, $22, $22, $22, $22, $22
  .db $22, $21, $21, $21, $21, $21, $21, $21
  .db $21, $20, $20, $20, $20

palettes:
  .db 0, $20, $10, $00
  .db 0, $27, $2A, $12
  .db 0, $20, $10, $00
  .db 0, $20, $10, $00
  .db $0F
  .db    $20, $10, $00
  .db 0, $20, $10, $00
  .db 0, $20, $10, $00
  .db 0, $20, $10, $00

tetris_bg_palettes:
  .db 0, $20, $21, $11
  .db 0, $20, $27, $17

tetris_fg_palettes:
  .db 0, $20, $22, $12
  .db 0, $20, $28, $18

title_text:
  .db $19, $1B, $0E, $1C, $1C, $40, $40, $1C, $1D, $0A, $1B, $1D

;;;;;;;;;;;
; screens ;
;;;;;;;;;;;

  .bank 1
  .org $A000

title_screen:
  .incbin "res/title.bin"

main_menu_screen:
  .incbin "res/main_menu.bin"

about_screen:
  .incbin "res/about.bin"

player1_screen:
  .incbin "res/1player.bin"

player2_screen:
  .incbin "res/2player.bin"